<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Imidio Mining Platform</title>
  <style>
    body { font-family: Arial, sans-serif; background:#0f172a; color:#e6eef8; margin:0; }
    header{background:#0ea5e9;padding:1rem;text-align:center}
    main{padding:2rem;text-align:center}
    .plans{display:flex;flex-wrap:wrap;justify-content:center;gap:1rem;margin-top:1rem}
    .plan{background:#071233;padding:1rem;border-radius:10px;width:220px;box-shadow:0 6px 18px rgba(0,0,0,0.4)}
    h1{margin:0;color:#001827}
    footer{background:#0ea5e9;color:#012;position:fixed;bottom:0;width:100%;padding:0.75rem;text-align:center}
    .badge{display:inline-block;background:#063;color:#dff7e0;padding:4px 8px;border-radius:6px;margin-top:8px}
    .status{margin-top:1rem;}
  </style>
</head>
<body>
  <header><h1>üöÄ Imidio Mining Platform</h1></header>
  <main>
    <p>Bem-vindo! Sua plataforma est√° no ar. Aqui est√£o os planos dispon√≠veis:</p>

    <div class="plans">
      <div class="plan">
        <h3>Bronze</h3>
        <p>Invest: <b>$100</b></p>
        <p>Di√°rio: <b>2%</b></p>
      </div>
      <div class="plan">
        <h3>Silver</h3>
        <p>Invest: <b>$500</b></p>
        <p>Di√°rio: <b>5%</b></p>
      </div>
      <div class="plan">
        <h3>Gold</h3>
        <p>Invest: <b>$1.000</b></p>
        <p>Di√°rio: <b>10%</b></p>
      </div>
    </div>

    <div class="status" id="status">
      <span class="badge">Conectando ao servidor...</span>
    </div>
  </main>

  <footer>&copy; 2025 Imidio Mining</footer>

  <script>
    // Verifica /healthz para confirmar que o servidor est√° ativo
    async function checkHealth(){
      try{
        const r = await fetch('/healthz', {cache: 'no-store'});
        if(r.ok){
          const json = await r.json();
          document.getElementById('status').innerHTML = '<span class="badge">Servidor online ‚Äî ' + new Date().toLocaleTimeString() + '</span>';
        } else {
          document.getElementById('status').innerHTML = '<span class="badge" style="background:#b33">Servidor respondeu com erro</span>';
        }
      } catch(e){
        document.getElementById('status').innerHTML = '<span class="badge" style="background:#b33">Servidor inacess√≠vel</span>';
      }
    }
    checkHealth();
    setInterval(checkHealth, 30*1000);
  </script>
</body>
</html>
